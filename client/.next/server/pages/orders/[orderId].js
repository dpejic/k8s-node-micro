"use strict";(()=>{var e={};e.id=349,e.ids=[349,888,660],e.modules={132:(e,t,r)=>{r.a(e,async(e,a)=>{try{r.r(t),r.d(t,{config:()=>m,default:()=>c,getServerSideProps:()=>g,getStaticPaths:()=>x,getStaticProps:()=>S,reportWebVitals:()=>f,routeModule:()=>w,unstable_getServerProps:()=>P,unstable_getServerSideProps:()=>v,unstable_getStaticParams:()=>h,unstable_getStaticPaths:()=>b,unstable_getStaticProps:()=>_});var s=r(7093),i=r(5244),o=r(1323),n=r(9209),l=r.n(n),d=r(9597),p=r(1529),u=e([d,p]);[d,p]=u.then?(await u)():u;let c=(0,o.l)(p,"default"),S=(0,o.l)(p,"getStaticProps"),x=(0,o.l)(p,"getStaticPaths"),g=(0,o.l)(p,"getServerSideProps"),m=(0,o.l)(p,"config"),f=(0,o.l)(p,"reportWebVitals"),_=(0,o.l)(p,"unstable_getStaticProps"),b=(0,o.l)(p,"unstable_getStaticPaths"),h=(0,o.l)(p,"unstable_getStaticParams"),P=(0,o.l)(p,"unstable_getServerProps"),v=(0,o.l)(p,"unstable_getServerSideProps"),w=new s.PagesRouteModule({definition:{kind:i.x.PAGES,page:"/orders/[orderId]",pathname:"/orders/[orderId]",bundlePath:"",filename:""},components:{App:d.default,Document:l()},userland:p});a()}catch(e){a(e)}})},1529:(e,t,r)=>{r.a(e,async(e,a)=>{try{r.r(t),r.d(t,{default:()=>c});var s=r(997),i=r(6689),o=r(8172),n=r.n(o),l=r(1163),d=r.n(l),p=r(4365),u=e([p]);p=(u.then?(await u)():u)[0];let OrderShow=({order:e,currentUser:t})=>{let[r,a]=(0,i.useState)(0),{doRequest:o,errors:l}=(0,p.Z)({url:"/api/payments",method:"post",body:{orderId:e.id},onSuccess:()=>d().push("/orders")});return((0,i.useEffect)(()=>{let findTimeLeft=()=>{let t=new Date(e.expiresAt)-new Date;a(Math.round(t/1e3))};findTimeLeft();let t=setInterval(findTimeLeft,1e3);return()=>{clearInterval(t)}},[e]),r<0)?s.jsx("div",{children:"Order Expired"}):(0,s.jsxs)("div",{children:["Time left to pay: ",r," seconds",s.jsx(n(),{token:({id:e})=>o({token:e}),stripeKey:"pk_test_51M95CbCLD3TBJ5f6lnRkWROEj6F8eMHvzSVC9bMepFuMgLqRc90LLM04URfV96Iv4GxFjFwsVxdAKi80fxHfBYaI00D0kAFJnt",amount:100*e.ticket.price,email:t.email}),l]})};OrderShow.getInitialProps=async(e,t)=>{let{orderId:r}=e.query,{data:a}=await t.get(`/api/orders/${r}`);return{order:a}};let c=OrderShow;a()}catch(e){a(e)}})},2785:e=>{e.exports=require("next/dist/compiled/next-server/pages.runtime.prod.js")},6689:e=>{e.exports=require("react")},6405:e=>{e.exports=require("react-dom")},8172:e=>{e.exports=require("react-stripe-checkout")},997:e=>{e.exports=require("react/jsx-runtime")},9648:e=>{e.exports=import("axios")},7147:e=>{e.exports=require("fs")},1017:e=>{e.exports=require("path")},2781:e=>{e.exports=require("stream")},9796:e=>{e.exports=require("zlib")}};var t=require("../../webpack-runtime.js");t.C(e);var __webpack_exec__=e=>t(t.s=e),r=t.X(0,[801,209,282,450,163,597,365],()=>__webpack_exec__(132));module.exports=r})();