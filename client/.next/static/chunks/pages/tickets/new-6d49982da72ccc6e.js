(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[302],{9766:function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/tickets/new",function(){return s(3966)}])},4365:function(e,t,s){"use strict";var n=s(5893),a=s(5121),r=s(7294);t.Z=e=>{let{url:t,method:s,body:l,onSuccess:i}=e,[u,c]=(0,r.useState)(null),doRequest=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};try{c(null);let n=await a.Z[s](t,{...l,...e});return i&&i(n.data),n.data}catch(e){c((0,n.jsxs)("div",{className:"alert alert-danger",children:[(0,n.jsx)("h4",{children:"Ooops...."}),(0,n.jsx)("ul",{className:"my-0",children:e.response.data.errors.map(e=>(0,n.jsx)("li",{children:e.message},e.message))})]}))}};return{doRequest,errors:u}}},3966:function(e,t,s){"use strict";s.r(t);var n=s(5893),a=s(7294),r=s(1163),l=s.n(r),i=s(4365);t.default=()=>{let[e,t]=(0,a.useState)(""),[s,r]=(0,a.useState)(""),{doRequest:u,errors:c}=(0,i.Z)({url:"/api/tickets",method:"post",body:{title:e,price:s},onSuccess:()=>l().push("/")});return(0,n.jsxs)("div",{children:[(0,n.jsx)("h1",{children:"Create a Ticket"}),(0,n.jsxs)("form",{onSubmit:e=>{e.preventDefault(),u()},children:[(0,n.jsxs)("div",{className:"form-group",children:[(0,n.jsx)("label",{children:"Title"}),(0,n.jsx)("input",{value:e,onChange:e=>t(e.target.value),className:"form-control"})]}),(0,n.jsxs)("div",{className:"form-group",children:[(0,n.jsx)("label",{children:"Price"}),(0,n.jsx)("input",{value:s,onBlur:()=>{let e=parseFloat(s);isNaN(e)||r(e.toFixed(2))},onChange:e=>r(e.target.value),className:"form-control"})]}),c,(0,n.jsx)("button",{className:"btn btn-primary",children:"Submit"})]})]})}},1163:function(e,t,s){e.exports=s(9974)}},function(e){e.O(0,[774,888,179],function(){return e(e.s=9766)}),_N_E=e.O()}]);