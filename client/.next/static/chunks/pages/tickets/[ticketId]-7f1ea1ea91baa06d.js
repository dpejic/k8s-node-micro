(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[42],{8992:function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/tickets/[ticketId]",function(){return s(5806)}])},4365:function(e,t,s){"use strict";var n=s(5893),r=s(5121),c=s(7294);t.Z=e=>{let{url:t,method:s,body:i,onSuccess:a}=e,[o,l]=(0,c.useState)(null),doRequest=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};try{l(null);let n=await r.Z[s](t,{...i,...e});return a&&a(n.data),n.data}catch(e){l((0,n.jsxs)("div",{className:"alert alert-danger",children:[(0,n.jsx)("h4",{children:"Ooops...."}),(0,n.jsx)("ul",{className:"my-0",children:e.response.data.errors.map(e=>(0,n.jsx)("li",{children:e.message},e.message))})]}))}};return{doRequest,errors:o}}},5806:function(e,t,s){"use strict";s.r(t);var n=s(5893),r=s(1163),c=s.n(r),i=s(4365);let TicketShow=e=>{let{ticket:t}=e,{doRequest:s,errors:r}=(0,i.Z)({url:"/api/orders",method:"post",body:{ticketId:t.id},onSuccess:e=>c().push("/orders/[orderId]","/orders/".concat(e.id))});return(0,n.jsxs)("div",{children:[(0,n.jsx)("h1",{children:t.title}),(0,n.jsxs)("h4",{children:["Price: ",t.price]}),r,(0,n.jsx)("button",{onClick:()=>s(),className:"btn btn-primary",children:"Purchase"})]})};TicketShow.getInitialProps=async(e,t)=>{let{ticketId:s}=e.query,{data:n}=await t.get("/api/tickets/".concat(s));return{ticket:n}},t.default=TicketShow},1163:function(e,t,s){e.exports=s(9974)}},function(e){e.O(0,[774,888,179],function(){return e(e.s=8992)}),_N_E=e.O()}]);